\subsection{HT and Equilibrium Logic}

The logic of Here-and-There forms the monotonic basis for defining
it's non-monotonic counterpart, equilibrium logic, which can in turn
be used to give a purely logical semantics for Answer Set Programming
(ASP) \cite{pearce06a}. In this subsection, we present the standard
definitions of these logics, and in the following subsection extend
them in the standard way into the temporal setting.

A formula over a set of atoms $\A$ is defined by the grammar:

\begin{align*}
    \varphi ::= &\; a \mid \bot \mid
                  \varphi_1 \wedge \varphi_2 \mid
                  \varphi_1 \vee \varphi_1 \mid
                  \varphi_1 \to \varphi_1
\end{align*}

We refer to the set of all possible formulas built from the grammar above as the language $\mathcal{L}_\A$ over \A, and a subset of $\mathcal{L}_\A$ as a theory.
We also define as shorthands $\neg \varphi \defeq \varphi \to \bot$, 
$\top \defeq \bot \to \bot$ and $\varphi \leftrightarrow \psi \defeq (\varphi \rightarrow \psi) \wedge (\varphi \leftarrow \psi)$.

A specific syntactic subset of formulas of a particular form are of
greater interest to us due to their relevance to logic programming.
We define the set of all literals over $\A$ as
$\textit{Lit}(\A) = \{ a, \lnot a\ |\ a \in \A \}$.

\begin{definition}[Disjunctive rule]
    We call formulas of the following form disjunctive rules, or rules for short:
\begin{align*}
  b_{1} \wedge \cdots \wedge b_{m} \rightarrow h_1 \vee \cdots \vee h_{n}
\end{align*}
where $h_{i}, b_{j} \in \textit{Lit}(\A)$. We call the set of literals ${ h_i | 1 \leq i \leq n, i\in \mathbb{N}}$ the \emph{head} of the rule, and the set of literals ${ b_b | 1 \leq j \leq m, j \in \mathbb{N}}$ the \emph{body} of the rule.
\end{definition}

We call a theory $P$ containing only (disjunctive) rules a
(disjunctive) logic program.

An HT interpretation over $\A$ is an ordered pair of sets of atoms
$\handt$, where $H \subseteq T \subseteq \A$. Intuitively, the set of
atoms in $H$ and $T$ describe what is true in worlds ``here'' and
``there'', respectively. The satisfaction relation for formulas is
defined as follows:

\begin{definition}[HT satisfaction]
    An interpretation $\handt$ satisfies a formula $\varphi$, written $\handt \models \varphi$, according to the following definition:
    \begin{description}
        \item $\handt \not \models \bot$
        \item $\handt \models a$ iff $a\in H$
        \item $\handt \models \varphi_1 \wedge \varphi_2$ iff $\handt \models \varphi_1$ and  $\handt \models \varphi_2$
        \item $\handt \models \varphi_1 \vee \varphi_2$ iff $\handt \models \varphi_1$ or  $\handt \models \varphi_2$
        \item $\handt \models \varphi_1 \to \varphi_2$ iff $\langle w,T \rangle \not \models \varphi_1$ or  $\langle w,T \rangle \models \varphi_2\;$ for all 
        $w \in \{H,T\}$
    \end{description}
\end{definition}

We say that an interpretation $\handt$ is an HT model of theory
$\Gamma$ iff $\handt \models \varphi$ for all $\varphi \in \Gamma$. We
denote the set of all HT models of a theory $\Gamma$ as
$\text{HT}(\Gamma)$. A formula $\varphi$ is a HT tautology, written as
$\models \varphi$, if $\handt \models \varphi$ for any HT
interpretation. We call the logic induced by the set of all
tautologies the logic of Here-and-There (HT for short). Two formulas
$\varphi$ and $\psi$ are said to be HT equivalent, denoted as
$\varphi \equivht \psi$, iff $\models \varphi \leftrightarrow \psi$.

The characteristic property of persistence in HT can be proven via
structural induction.

\begin{proposition}[Persistence]
  For any HT interpretation $\handt$, if $\handt \models \varphi$,
  then $\tandt \models \varphi$.
\end{proposition}

HT can also be defined as a 3-valued logic, known commonly as GÃ¶del's
3-valued logic \cite{capeva05a}. A 3-valued interpretation
$I: \A \rightarrow \textbf{3}$ assigns to every atom $a\in \A$ a value
from $\textbf{3}=\{ 0, 1, 2 \}$. We define a one-to-one correspondence
between 3-valued interpretations and HT interpretations via the
following mapping. Given an HT interpretation $\handt$, the
corresponding 3 valued interpretation $I_{\handt}$ $I_{\handt}(a)=2$
is defined as iff $a \in H$, $I_{\handt}(a)=1$ iff
$a \in T \setminus H$ and $I_{\handt}(a)=0$ iff $a \not\in T$. Given a
3-valued interpretation $I$, the corresponding HT interpretation given
by the inverse of the mapping above is denoted as $\handt_{I}$. 

A 3-valued HT interpretation $I$ can be extended to
$\mathcal{L}_\A$ inductively using the following rules:

\begin{align*}
&I(\varphi \wedge \psi) = min(I(\varphi),I(\psi)) 
&&I(\varphi \vee \varphi) = max(I(\varphi),I(\psi)) \\
&I(\varphi \rightarrow \psi) = 
\begin{cases}
  2 & \text { if } I(\varphi) \leq I(\psi) \\
  I(\psi) & \text { otherwise }
\end{cases}.
&&I(\neg \varphi) = \begin{cases}2 
  & \text { if } I(\varphi)=0 \\ 
  0 & \text { otherwise }\end{cases} 
\end{align*}

One way of conceptualizing the three values is to view the atoms in
$H$, $T$ and $\A \setminus T$ as being proved to be true, assumed to
be true and false, respectively \cite{agcadipescscvi20a}. Using
3-valued interpretations instead of HT traces can be beneficial when
one wishes to check satisfaction or (strong) equivalence of formulas,
as these can be reduced to a simple calculation of truth values using
the rules above.

\begin{proposition}[\cite{capeva05a}]\label{prop:3-valued-ht}
For any 3-valued HT interpretation $I$ and formulas $\varphi$, $\psi$:
\begin{description}
  \item $\handt \models \varphi$ iff $I_{\handt}(\varphi) = 2$
  \item $\tandt \models \varphi$ iff $I_{\tandt}(\varphi) \neq 0$
  \item $\handt \models \varphi \leftrightarrow \psi$ iff $I_{\handt}(\varphi) = I_{\handt}(\psi)$
\end{description}
\end{proposition}

As a consequence of Proposition \ref{prop:3-valued-ht}, we can
equivalently define satisfaction of formula, using only the 3-valued
interpretation, as $I \models \varphi$ iff $I(\varphi)=2$. Given the
one-to-one correspondence, we will use HT interpretations $\handt$ and
their corresponding 3-valued interpretations $I_{\handt}$
interchangeably when this does not lead to confusion.

We call an HT interpretation $\handt$ total if $H=T$. Following the
previous analogy of the meaning of the values assigned by $I$, we can
conceptualize total interpretations and interpretations in which all
our of assumptions must be proven to be true; or more concretely. By
imposing an additional minimality condition on total interpretations,
we arrive at the concept of an equilibrium model, and of a stable
model.

\begin{definition}[Equilibrium Model/Stable model \cite{lipeva01a} \cite{pearce06a}]
  A total HT interpretation $\tandt$ is said to be an equilibrium
  model of a theory $\Gamma$ iff $\tandt \models \Gamma$ and there is
  no HT interpretation $\handt$ such that $\handt \models \Gamma$ and
  $H \subset T$. A set of atoms $T$ is a stable model of a theory
  $\Gamma$ iff $\tandt$ is an equilibrium model of $\Gamma$. We denote
  the set of all equilibrium models of a theory $\Gamma$ as
  $\text{EL}(\Gamma)$.
\end{definition}

It is worth noting that this definition of a stable model above is
equivalent to the original reduct-based characterization
\cite{lipeva01a}, though we will not be making use of the reduct in
our discussion. 

We would now like to characterize the necessary and sufficient
conditions when two theories have the same answer sets in any context.

\begin{definition}[Strong Equivalence \cite{lipeva01a}]
  Two theories $\Gamma_1$ and $\Gamma_2$ are strongly equivalent iff for
  any theory $\Gamma$, $\Gamma_1 \cup \Gamma$ and
  $\Gamma_2 \cup \Gamma$ have the same answer sets.
\end{definition}

Strong equivalence is a particularly significant property in a logic
programming context, as it allows one to replace parts of a program
with a strongly equivalent counterpart without affecting the stable
models of the program as a whole. Requiring the usual notion of
equivalence of theories in equilibrium logic, i.e. that $\Gamma_1$ and
$\Gamma_2$ possess the same equilibrium models, is not sufficient to
guarantee strong equivalence due to the non-monotonic nature of
equilibrium logic \cite{lipeva01a}.  However, equivalence in the
non-monotonic basis of HT is sufficient, and in fact also necessary.

\begin{proposition}[Strong Equivalence and HT equivalence \cite{lipeva01a}]
  Two theories $\Gamma_1$ and $\Gamma_2$ are strongly equivalent
  iff $\Gamma_1 \equivht \Gamma_2$
\end{proposition}

HT equivalence also satisfies a similar replacement property
to the one known in classical logic.

\begin{proposition}[Replacement property \cite{petowo09a} \cite{agcadipescscvi20a}]
  Let $\gamma[\varphi]$ denote a formula with some occurrence of
  subformula $\varphi$ and let $\gamma[\psi]$ be the formula resulting
  from replacing said occurrence of $\varphi$ with $\psi$. If
  $\varphi \equivht \psi$, then $\gamma[\varphi] \equivht \gamma[\psi]$.
\end{proposition}
